!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},r={},i={}.hasOwnProperty,o=/^\.\.?(\/|$)/,s=function(e,t){for(var n,r=[],i=(o.test(t)?e+"/"+t:t).split("/"),s=0,a=i.length;s<a;s++)n=i[s],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},a=function(e){return e.split("/").slice(0,-1).join("/")},c=function(t){return function(n){var r=s(a(t),n);return e.require(r,t)}},u=function(e,t){var r=g&&g.createHot(e),i={id:e,exports:{},hot:r};return n[e]=i,t(i.exports,c(e),i),i.exports},l=function(e){return r[e]?l(r[e]):e},f=function(e,t){return l(s(a(e),t))},d=function(e,r){null==r&&(r="/");var o=l(e);if(i.call(n,o))return n[o].exports;if(i.call(t,o))return u(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};d.alias=function(e,t){r[t]=e};var p=/\.[^.\/]+$/,h=/\/index(\.[^\/]+)?$/,v=function(e){if(p.test(e)){var t=e.replace(p,"");i.call(r,t)&&r[t].replace(p,"")!==t+"/index"||(r[t]=e)}if(h.test(e)){var n=e.replace(h,"");i.call(r,n)||(r[n]=e)}};d.register=d.define=function(e,r){if(e&&"object"==typeof e)for(var o in e)i.call(e,o)&&d.register(o,e[o]);else t[e]=r,delete n[e],v(e)},d.list=function(){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};var g=e._hmr&&new e._hmr(f,d,t,n);d._cache=n,d.hmr=g&&g.wrap,d.brunch=!0,e.require=d}}(),function(){var e=("undefined"==typeof window?this:window,function(e,t,n){var r={},i=function(t,n){var o;try{return o=e(n+"/node_modules/"+t)}catch(s){if(s.toString().indexOf("Cannot find module")===-1)throw s;if(n.indexOf("node_modules")!==-1){var a=n.split("/"),c=a.lastIndexOf("node_modules"),u=a.slice(0,c).join("/");return i(t,u)}}return r};return function(o){if(o in t&&(o=t[o]),o){if("."!==o[0]&&n){var s=i(o,n);if(s!==r)return s}return e(o)}}});require.register("fastclick/lib/fastclick.js",function(t,n,r){n=e(n,{},"fastclick"),function(){!function(){"use strict";function e(t,r){function i(e,t){return function(){return e.apply(t,arguments)}}var o;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!e.notNeeded(t)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,c=0,u=s.length;c<u;c++)a[s[c]]=i(a[s[c]],a);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,r):i.call(t,e,n,r)},t.addEventListener=function(e,n,r){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(t,e,n,r)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(e){o(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,r,a,c,u,l=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,r=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(u=e.changedTouches[0],l=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=l.tagName.toLowerCase(),"label"===a){if(t=this.findControl(l)){if(this.focus(l),n)return!1;l=t}}else if(this.needsFocus(l))return e.timeStamp-r>100||i&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,e),i&&"select"===a||(this.targetElement=null,e.preventDefault()),!1);return!(!i||o||(c=l.fastClickScrollParent,!c||c.fastClickLastScrollTop===c.scrollTop))||(this.needsClick(l)||(e.preventDefault(),this.sendClick(l,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,r,i,o;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(t.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(o>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof r&&r.exports?(r.exports=e.attach,r.exports.FastClick=e):window.FastClick=e}()}()}),require.register("mithril/mithril.js",function(t,n,r){n=e(n,{},"mithril"),function(){!function(e,t){"use strict";var n=t(e);"object"==typeof r&&null!=r&&r.exports?r.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):e.m=n}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e){return"function"==typeof e}function r(e){return"[object Object]"===Le.call(e)}function i(e){return"[object String]"===Le.call(e)}function o(){}function s(e){Ae=e.document,Te=e.location,De=e.cancelAnimationFrame||e.clearTimeout,Ee=e.requestAnimationFrame||e.setTimeout}function a(e,t){for(var n,r=[],i=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g;n=i.exec(t);)if(""===n[1]&&n[2])e.tag=n[2];else if("#"===n[1])e.attrs.id=n[2];else if("."===n[1])r.push(n[2]);else if("["===n[3][0]){var o=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/.exec(n[3]);e.attrs[o[1]]=o[3]||""}return r}function c(e,t){var n=t?e.slice(1):e;return 1===n.length&&Se(n[0])?n[0]:n}function u(e,t,n){var r="class"in t?"class":"className";for(var i in t)be.call(t,i)&&(i===r&&null!=t[i]&&""!==t[i]?(n.push(t[i]),e[i]=""):e[i]=t[i]);n.length&&(e[r]=n.join(" "))}function l(e,t){for(var n=[],o=1,s=arguments.length;o<s;o++)n[o-1]=arguments[o];if(r(e))return re(e,n);if(!i(e))throw new Error("selector in m(selector, attrs, children) should be a string");var l=null!=t&&r(t)&&!("tag"in t||"view"in t||"subtree"in t),f=l?t:{},d={tag:"div",attrs:{},children:c(n,l)};return u(d.attrs,f,a(d,e)),d}function f(e,t){for(var n=0;n<e.length&&!t(e[n],n++););}function d(e,t){f(e,function(e,n){return(e=e&&e.attrs)&&null!=e.key&&t(e,n)})}function p(e){try{if(null!=e&&null!=e.toString())return e}catch(t){}return""}function h(e,t,n,r){try{g(e,t,n),t.nodeValue=r}catch(i){}}function v(e){for(var t=0;t<e.length;t++)Se(e[t])&&(e=e.concat.apply([],e),t--);return e}function g(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}function m(e,t,n,r){d(e,function(e,r){t[e=e.key]=t[e]?{action:Ne,index:r,from:t[e].index,element:n.nodes[t[e].index]||Ae.createElement("div")}:{action:Oe,index:r}});var i=[];for(var o in t)be.call(t,o)&&i.push(t[o]);var s=i.sort(F),a=new Array(n.length);return a.nodes=n.nodes.slice(),f(s,function(t){var i=t.index;if(t.action===Me&&(Z(n[i].nodes,n[i]),a.splice(i,1)),t.action===Oe){var o=Ae.createElement("div");o.key=e[i].attrs.key,g(r,o,i),a.splice(i,0,{attrs:{key:e[i].attrs.key},nodes:[o]}),a.nodes[i]=o}if(t.action===Ne){var s=t.element,c=r.childNodes[i];c!==s&&null!==s&&r.insertBefore(s,c||null),a[i]=n[t.from],a.nodes[i]=s}}),a}function w(e,t,n,r){var i=e.length!==t.length;return i||d(e,function(e,n){var r=t[n];return i=r&&r.attrs&&r.attrs.key!==e.key}),i?m(e,n,t,r):t}function y(e,t,n){f(e,function(e,r){null!=t[r]&&n.push.apply(n,t[r].nodes)}),f(t.nodes,function(e,r){null!=e.parentNode&&n.indexOf(e)<0&&Z([e],[t[r]])}),e.length<t.length&&(t.length=e.length),t.nodes=n}function x(e){var t=0;d(e,function(){return f(e,function(e){(e=e&&e.attrs)&&null==e.key&&(e.key="__mithril__"+t++)}),1})}function C(e,t,n){return e.tag!==t.tag||(n.sort().join()!==Object.keys(t.attrs).sort().join()||(e.attrs.id!==t.attrs.id||(e.attrs.key!==t.attrs.key||("all"===l.redraw.strategy()?!t.configContext||t.configContext.retain!==!0:"diff"===l.redraw.strategy()&&(t.configContext&&t.configContext.retain===!1)))))}function k(e,t,r){C(e,t,r)&&(t.nodes.length&&Z(t.nodes),t.configContext&&n(t.configContext.onunload)&&t.configContext.onunload(),t.controllers&&f(t.controllers,function(e){e.onunload&&e.onunload({preventDefault:o})}))}function A(e,t){return e.attrs.xmlns?e.attrs.xmlns:"svg"===e.tag?"http://www.w3.org/2000/svg":"math"===e.tag?"http://www.w3.org/1998/Math/MathML":t}function T(e,t,n){n.length&&(e.views=t,e.controllers=n,f(n,function(e){if(e.onunload&&e.onunload.$old&&(e.onunload=e.onunload.$old),Re&&e.onunload){var t=e.onunload;e.onunload=o,e.onunload.$old=t}}))}function E(e,t,r,i,o){if(n(t.attrs.config)){var s=o.configContext=o.configContext||{};e.push(function(){return t.attrs.config.call(t,r,!i,s,o)})}}function D(e,n,r,i,o,s,a,c){var u=e.nodes[0];return i&&$(u,n.tag,n.attrs,e.attrs,o),e.children=H(u,n.tag,t,t,n.children,e.children,!1,0,n.attrs.contenteditable?u:r,o,a),e.nodes.intact=!0,c.length&&(e.views=s,e.controllers=c),u}function b(e,t,n){var r;e.$trusted?r=Q(t,n,e):(r=[Ae.createTextNode(e)],t.nodeName in Pe||g(t,r[0],n));var i;return i="string"==typeof e||"number"==typeof e||"boolean"==typeof e?new e.constructor(e):e,i.nodes=r,i}function L(e,t,n,r,i,o){var s=t.nodes;return r&&r===Ae.activeElement||(e.$trusted?(Z(s,t),s=Q(n,i,e)):"textarea"===o?n.value=e:r?r.innerHTML=e:((1===s[0].nodeType||s.length>1||s[0].nodeValue.trim&&!s[0].nodeValue.trim())&&(Z(t.nodes,t),s=[Ae.createTextNode(e)]),h(n,s[0],i,e))),t=new e.constructor(e),t.nodes=s,t}function S(e,t,n,r,i,o,s){return e.nodes.length?e.valueOf()!==t.valueOf()||i?L(t,e,r,o,n,s):(e.nodes.intact=!0,e):b(t,r,n)}function P(e){if(e.$trusted){var t=e.match(/<[^\/]|\>\s*[^<]/g);if(null!=t)return t.length}else if(Se(e))return e.length;return 1}function M(e,n,r,i,o,s,a,c,u){e=v(e);var l=[],f=n.length===e.length,p=0,h={},g=!1;d(n,function(e,t){g=!0,h[n[t].attrs.key]={action:Me,index:t}}),x(e),g&&(n=w(e,n,h,r));for(var m=0,C=0,k=e.length;C<k;C++){var A=H(r,o,n,i,e[C],n[m],s,i+p||p,a,c,u);A!==t&&(f=f&&A.nodes.intact,p+=P(A),n[m++]=A)}return f||y(e,n,l),n}function O(e,t,n,r,i){if(null!=t){if(Le.call(t)===Le.call(e))return t;if(i&&i.nodes){var o=n-r,s=o+(Se(e)?e:t.nodes).length;Z(i.nodes.slice(o,s),i.slice(o,s))}else t.nodes&&Z(t.nodes,t)}return t=new e.constructor,t.tag&&(t={}),t.nodes=[],t}function N(e,t){return e.attrs.is?null==t?Ae.createElement(e.tag,e.attrs.is):Ae.createElementNS(t,e.tag,e.attrs.is):null==t?Ae.createElement(e.tag):Ae.createElementNS(t,e.tag)}function R(e,t,n,r){return r?$(t,e.tag,e.attrs,{},n):e.attrs}function V(e,n,r,i,o,s){return null!=e.children&&e.children.length>0?H(n,e.tag,t,t,e.children,r.children,!0,0,e.attrs.contenteditable?n:i,o,s):e.children}function j(e,t,n,r,i,o,s){var a={tag:e.tag,attrs:t,children:n,nodes:[r]};return T(a,o,s),a.children&&!a.children.nodes&&(a.children.nodes=[]),"select"===e.tag&&"value"in e.attrs&&$(r,e.tag,{value:e.attrs.value},{},i),a}function q(e,t,r,i){var o;return o="diff"===l.redraw.strategy()&&e?e.indexOf(t):-1,o>-1?r[o]:n(i)?new i:{}}function G(e,t,n,r){null!=r.onunload&&je.map(function(e){return e.handler}).indexOf(r.onunload)<0&&je.push({controller:r,handler:r.onunload}),e.push(n),t.push(r)}function I(e,t,n,r,i,o){var s=q(n.views,t,r,e.controller),a=e&&e.attrs&&e.attrs.key;return e=0===Re||qe||r&&r.indexOf(s)>-1?e.view(s):{tag:"placeholder"},"retain"===e.subtree?e:(e.attrs=e.attrs||{},e.attrs.key=a,G(o,i,t,s),e)}function U(e,t,n,r){for(var i=t&&t.controllers;null!=e.view;)e=I(e,e.view.$original||e.view,t,i,r,n);return e}function B(e,t,n,r,o,s,a,c){var u=[],l=[];if(e=U(e,t,u,l),"retain"===e.subtree)return t;if(!e.tag&&l.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");e.attrs=e.attrs||{},t.attrs=t.attrs||{};var f=Object.keys(e.attrs),d=f.length>("key"in e.attrs?1:0);if(k(e,t,f),i(e.tag)){var p=0===t.nodes.length;a=A(e,a);var h;if(p){h=N(e,a);var v=R(e,h,a,d);g(r,h,o);var m=V(e,h,t,n,a,c);t=j(e,v,m,h,a,u,l)}else h=D(t,e,n,d,a,u,c,l);return p||s!==!0||null==h||g(r,h,o),E(c,e,h,p,t),t}}function H(e,t,i,o,s,a,c,u,l,f,d){return s=p(s),"retain"===s.subtree?a:(a=O(s,a,u,o,i),Se(s)?M(s,a,e,u,t,c,l,f,d):null!=s&&r(s)?B(s,a,l,e,u,c,f,d):n(s)?a:S(a,s,u,e,c,l,t))}function F(e,t){return e.action-t.action||e.index-t.index}function _(e,t,n){for(var r in t)be.call(t,r)&&(null!=n&&n[r]===t[r]||(e.style[r]=t[r]));for(r in n)be.call(n,r)&&(be.call(t,r)||(e.style[r]=""))}function Y(e,t,i,o,s,a){if("config"===t||"key"===t)return!0;if(n(i)&&"on"===t.slice(0,2))e[t]=ee(i,e);else if("style"===t&&null!=i&&r(i))_(e,i,o);else if(null!=a)"href"===t?e.setAttributeNS("http://www.w3.org/1999/xlink","href",i):e.setAttribute("className"===t?"class":t,i);else if(t in e&&!Ge[t])try{"input"===s&&e[t]===i||(e[t]=i)}catch(c){e.setAttribute(t,i)}else e.setAttribute(t,i)}function W(e,t,n,r,i,o,s){if(t in i&&r===n&&Ae.activeElement!==e)"value"===t&&"input"===o&&e.value!==n&&(e.value=n);else{i[t]=n;try{return Y(e,t,n,r,o,s)}catch(a){if(a.message.indexOf("Invalid argument")<0)throw a}}}function $(e,t,n,r,i){for(var o in n)!be.call(n,o)||!W(e,o,n[o],r[o],r,t,i);return r}function Z(e,t){for(var n=e.length-1;n>-1;n--)if(e[n]&&e[n].parentNode){try{e[n].parentNode.removeChild(e[n])}catch(r){}t=[].concat(t),t[n]&&X(t[n])}e.length&&(e.length=0)}function X(e){e.configContext&&n(e.configContext.onunload)&&(e.configContext.onunload(),e.configContext.onunload=null),e.controllers&&f(e.controllers,function(e){n(e.onunload)&&e.onunload({preventDefault:o})}),e.children&&(Se(e.children)?f(e.children,X):e.children.tag&&X(e.children))}function z(e,t){try{e.appendChild(Ae.createRange().createContextualFragment(t))}catch(n){e.insertAdjacentHTML("beforeend",t),J(e)}}function J(e){if("SCRIPT"===e.tagName)e.parentNode.replaceChild(K(e),e);else{var t=e.childNodes;if(t&&t.length)for(var n=0;n<t.length;n++)J(t[n])}return e}function K(e){for(var t=document.createElement("script"),n=e.attributes,r=0;r<n.length;r++)t.setAttribute(n[r].name,n[r].value);return t.text=e.innerHTML,t}function Q(e,t,n){var r=e.childNodes[t];if(r){var i=1!==r.nodeType,o=Ae.createElement("span");i?(e.insertBefore(o,r||null),o.insertAdjacentHTML("beforebegin",n),e.removeChild(o)):r.insertAdjacentHTML("beforebegin",n)}else z(e,n);for(var s=[];e.childNodes[t]!==r;)s.push(e.childNodes[t]),t++;return s}function ee(e,t){return function(n){n=n||event,l.redraw.strategy("diff"),l.startComputation();try{return e.call(t,n)}finally{ae()}}}function te(e){var t=Ue.indexOf(e);return t<0?Ue.push(e)-1:t}function ne(e){function t(){return arguments.length&&(e=arguments[0]),e}return t.toJSON=function(){return e},t}function re(e,t){function n(){return(e.controller||o).apply(this,t)||this}function r(n){for(var r=[n].concat(t),i=1;i<arguments.length;i++)r.push(arguments[i]);return e.view.apply(e,r)}e.controller&&(n.prototype=e.controller.prototype),r.$original=e.view;var i={controller:n,view:r};return t[0]&&null!=t[0].key&&(i.attrs={key:t[0].key}),i}function ie(e,t,n,r){if(!r){l.redraw.strategy("all"),l.startComputation(),Fe[n]=t;var i;i=He=e?e:e={controller:o};var s=new(e.controller||o);return i===He&&(Ye[n]=s,_e[n]=e),ae(),null===e&&oe(t,n),Ye[n]}null==e&&oe(t,n)}function oe(e,t){Fe.splice(t,1),Ye.splice(t,1),_e.splice(t,1),he(e),Ue.splice(te(e),1)}function se(){Ze&&(Ze(),Ze=null),f(Fe,function(e,t){var n=_e[t];if(Ye[t]){var r=[Ye[t]];l.render(e,n.view?n.view(Ye[t],r):"")}}),Xe&&(Xe(),Xe=null),We=null,$e=new Date,l.redraw.strategy("diff")}function ae(){"none"===l.redraw.strategy()?(Re--,l.redraw.strategy("diff")):l.endComputation()}function ce(e){return e.slice(et[l.route.mode].length)}function ue(e,t,n){Ke={};var r=n.indexOf("?");r!==-1&&(Ke=pe(n.substr(r+1,n.length)),n=n.substr(0,r));var i=Object.keys(t),o=i.indexOf(n);if(o!==-1)return l.mount(e,t[i[o]]),!0;for(var s in t)if(be.call(t,s)){if(s===n)return l.mount(e,t[s]),!0;var a=new RegExp("^"+s.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(a.test(n))return n.replace(a,function(){var n=s.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2);f(n,function(e,t){Ke[e.replace(/:|\./g,"")]=decodeURIComponent(r[t])}),l.mount(e,t[s])}),!0}}function le(e){if(e=e||event,!(e.ctrlKey||e.metaKey||e.shiftKey||2===e.which)){e.preventDefault?e.preventDefault():e.returnValue=!1;var t,n=e.currentTarget||e.srcElement;for(t="pathname"===l.route.mode&&n.search?pe(n.search.slice(1)):{};n&&!/a/i.test(n.nodeName);)n=n.parentNode;Re=0,l.route(n[l.route.mode].slice(et[l.route.mode].length),t)}}function fe(){"hash"!==l.route.mode&&Te.hash?Te.hash=Te.hash:e.scrollTo(0,0)}function de(e,n){var i={},o=[];for(var s in e)if(be.call(e,s)){var a=n?n+"["+s+"]":s,c=e[s];if(null===c)o.push(encodeURIComponent(a));else if(r(c))o.push(de(c,a));else if(Se(c)){var u=[];i[a]=i[a]||{},f(c,function(e){i[a][e]||(i[a][e]=!0,u.push(encodeURIComponent(a)+"="+encodeURIComponent(e)))}),o.push(u.join("&"))}else c!==t&&o.push(encodeURIComponent(a)+"="+encodeURIComponent(c))}return o.join("&")}function pe(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));var t=e.split("&"),n={};return f(t,function(e){var t=e.split("="),r=decodeURIComponent(t[0]),i=2===t.length?decodeURIComponent(t[1]):null;null!=n[r]?(Se(n[r])||(n[r]=[n[r]]),n[r].push(i)):n[r]=i}),n}function he(e){var n=te(e);Z(e.childNodes,Be[n]),Be[n]=t}function ve(e,t){var n=l.prop(t);return e.then(n),n.then=function(n,r){return ve(e.then(n,r),t)},n["catch"]=n.then.bind(null,null),n}function ge(e,t){function i(e){c=e||st,f.map(function(e){c===ot?e.resolve(u):e.reject(u)})}function o(e,t,i,o){if((null!=u&&r(u)||n(u))&&n(e))try{var s=0;e.call(u,function(e){s++||(u=e,t())},function(e){s++||(u=e,i())})}catch(a){l.deferred.onerror(a),u=a,i()}else o()}function s(){var r;try{r=u&&u.then}catch(f){return l.deferred.onerror(f),u=f,c=it,s()}c===it&&l.deferred.onerror(u),o(r,function(){c=rt,s()},function(){c=it,s()},function(){try{c===rt&&n(e)?u=e(u):c===it&&n(t)&&(u=t(u),c=rt)}catch(s){return l.deferred.onerror(s),u=s,i()}u===a?(u=TypeError(),i()):o(r,function(){i(ot)},i,function(){i(c===rt&&ot)})})}var a=this,c=0,u=0,f=[];a.promise={},a.resolve=function(e){return c||(u=e,c=rt,s()),a},a.reject=function(e){return c||(u=e,c=it,s()),a},a.promise.then=function(e,t){var n=new ge(e,t);return c===ot?n.resolve(u):c===st?n.reject(u):f.push(n),n.promise}}function me(e){return e}function we(n){var r=n.callbackName||"mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=Ae.createElement("script");e[r]=function(o){i.parentNode.removeChild(i),n.onload({type:"load",target:{responseText:o}}),e[r]=t},i.onerror=function(){return i.parentNode.removeChild(i),n.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[r]=t,!1},i.onload=function(){return!1},i.src=n.url+(n.url.indexOf("?")>0?"&":"?")+(n.callbackKey?n.callbackKey:"callback")+"="+r+"&"+de(n.data||{}),Ae.body.appendChild(i)}function ye(t){var r=new e.XMLHttpRequest;if(r.open(t.method,t.url,!0,t.user,t.password),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?t.onload({type:"load",target:r}):t.onerror({type:"error",target:r}))},t.serialize===JSON.stringify&&t.data&&"GET"!==t.method&&r.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.deserialize===JSON.parse&&r.setRequestHeader("Accept","application/json, text/*"),n(t.config)){var o=t.config(r,t);null!=o&&(r=o)}var s="GET"!==t.method&&t.data?t.data:"";if(s&&!i(s)&&s.constructor!==e.FormData)throw new Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`");return r.send(s),r}function xe(e){return e.dataType&&"jsonp"===e.dataType.toLowerCase()?we(e):ye(e)}function Ce(e,t,n){if("GET"===e.method&&"jsonp"!==e.dataType){var r=e.url.indexOf("?")<0?"?":"&",i=de(t);e.url+=i?r+i:""}else e.data=n(t)}function ke(e,t){return t&&(e=e.replace(/:[a-z]\w+/gi,function(e){var n=e.slice(1),r=t[n]||e;return delete t[n],r})),e}l.version=function(){return"v0.2.5"};var Ae,Te,Ee,De,be={}.hasOwnProperty,Le={}.toString,Se=Array.isArray||function(e){return"[object Array]"===Le.call(e)},Pe={AREA:1,BASE:1,BR:1,COL:1,COMMAND:1,EMBED:1,HR:1,IMG:1,INPUT:1,KEYGEN:1,LINK:1,META:1,PARAM:1,SOURCE:1,TRACK:1,WBR:1};l.deps=function(t){return s(e=t||window),e},l.deps(e);var Me=1,Oe=2,Ne=3,Re=0;l.startComputation=function(){Re++},l.endComputation=function(){Re>1?Re--:(Re=0,l.redraw())};var Ve,je=[],qe=!1,Ge={list:1,style:1,form:1,type:1,width:1,height:1},Ie={appendChild:function(e){Ve===t&&(Ve=Ae.createElement("html")),Ae.documentElement&&Ae.documentElement!==e?Ae.replaceChild(e,Ae.documentElement):Ae.appendChild(e),this.childNodes=Ae.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},Ue=[],Be={};l.render=function(e,n,r){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var i,o=[],s=te(e),a=e===Ae;i=a||e===Ae.documentElement?Ie:e,a&&"html"!==n.tag&&(n={tag:"html",attrs:{},children:n}),Be[s]===t&&Z(i.childNodes),r===!0&&he(e),Be[s]=H(i,null,t,t,n,Be[s],!1,0,null,t,o),f(o,function(e){e()})},l.trust=function(e){return e=new String(e),e.$trusted=!0,e},l.prop=function(e){return(null!=e&&(r(e)||n(e))||"undefined"!=typeof Promise&&e instanceof Promise)&&n(e.then)?ve(e):ne(e)};var He,Fe=[],_e=[],Ye=[],We=null,$e=0,Ze=null,Xe=null,ze=16;l.component=function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return re(e,t)},l.mount=l.module=function(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var r=Fe.indexOf(e);r<0&&(r=Fe.length);var i=!1,o={preventDefault:function(){i=!0,Ze=Xe=null}};return f(je,function(e){e.handler.call(e.controller,o),e.controller.onunload=null}),i?f(je,function(e){e.controller.onunload=e.handler}):je=[],Ye[r]&&n(Ye[r].onunload)&&Ye[r].onunload(o),ie(t,e,r,i)};var Je=!1;l.redraw=function(t){if(!Je){Je=!0,t&&(qe=!0);try{We&&!t?(Ee===e.requestAnimationFrame||new Date-$e>ze)&&(We>0&&De(We),We=Ee(se,ze)):(se(),We=Ee(function(){We=null},ze))}finally{Je=qe=!1}}},l.redraw.strategy=l.prop(),l.withAttr=function(e,t,n){return function(r){r=r||window.event;var i=r.currentTarget||this,o=n||this,s=e in i?i[e]:i.getAttribute(e);t.call(o,s)}};var Ke,Qe,et={pathname:"",hash:"#",search:"?"},tt=o,nt=!1;l.route=function(t,n,r,o){if(0===arguments.length)return Qe;if(3===arguments.length&&i(n)){tt=function(e){var i=Qe=ce(e);if(!ue(t,r,i)){if(nt)throw new Error("Ensure the default route matches one of the routes defined in m.route");nt=!0,l.route(n,!0),nt=!1}};var s="hash"===l.route.mode?"onhashchange":"onpopstate";return e[s]=function(){var e=Te[l.route.mode];"pathname"===l.route.mode&&(e+=Te.search),Qe!==ce(e)&&tt(e)},Ze=fe,void e[s]()}if(t.addEventListener||t.attachEvent){var a="pathname"!==l.route.mode?Te.pathname:"";return t.href=a+et[l.route.mode]+o.attrs.href,void(t.addEventListener?(t.removeEventListener("click",le),t.addEventListener("click",le)):(t.detachEvent("onclick",le),t.attachEvent("onclick",le)))}if(i(t)){var c=Qe;Qe=t;var u,f=n||{},d=Qe.indexOf("?");u=d>-1?pe(Qe.slice(d+1)):{};for(var p in f)be.call(f,p)&&(u[p]=f[p]);var h,v=de(u);h=d>-1?Qe.slice(0,d):Qe,v&&(Qe=h+(h.indexOf("?")===-1?"?":"&")+v);var g=(3===arguments.length?r:n)===!0||c===t;if(e.history.pushState){var m=g?"replaceState":"pushState";Ze=fe,Xe=function(){try{e.history[m](null,Ae.title,et[l.route.mode]+Qe)}catch(t){Te[l.route.mode]=Qe}},tt(et[l.route.mode]+Qe)}else Te[l.route.mode]=Qe,tt(et[l.route.mode]+Qe)}},l.route.param=function(e){if(!Ke)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return e?Ke[e]:Ke},l.route.mode="search",l.route.buildQueryString=de,l.route.parseQueryString=pe,l.deferred=function(){var e=new ge;return e.promise=ve(e.promise),e};var rt=1,it=2,ot=3,st=4;return l.deferred.onerror=function(e){if("[object Error]"===Le.call(e)&&!/ Error/.test(e.constructor.toString()))throw Re=0,e},l.sync=function(e){function t(e,t){return function(s){return i[e]=s,t||(o="reject"),0===--r&&(n.promise(i),n[o](i)),s}}var n=l.deferred(),r=e.length,i=[],o="resolve";return e.length>0?f(e,function(e,n){e.then(t(n,!0),t(n,!1))}):n.resolve([]),n.promise},l.request=function(e){e.background!==!0&&l.startComputation();var t,n,r,i=new ge,o=e.dataType&&"jsonp"===e.dataType.toLowerCase();return o?(t=e.serialize=n=e.deserialize=me,r=function(e){return e.responseText}):(t=e.serialize=e.serialize||JSON.stringify,n=e.deserialize=e.deserialize||JSON.parse,r=e.extract||function(e){return e.responseText.length||n!==JSON.parse?e.responseText:null}),e.method=(e.method||"GET").toUpperCase(),e.url=ke(e.url,e.data),Ce(e,e.data,t),e.onload=e.onerror=function(t){try{t=t||event;var o=n(r(t.target,e));"load"===t.type?(e.unwrapSuccess&&(o=e.unwrapSuccess(o,t.target)),Se(o)&&e.type?f(o,function(t,n){o[n]=new e.type(t)}):e.type&&(o=new e.type(o)),i.resolve(o)):(e.unwrapError&&(o=e.unwrapError(o,t.target)),i.reject(o))}catch(s){i.reject(s),l.deferred.onerror(s)}finally{e.background!==!0&&l.endComputation()}},xe(e),i.promise=ve(i.promise,e.initialValue),i.promise},l})}()}),require.register("app/analytics.js",function(e,t,n){"use strict";var r={};r.queue=function(){if("www.yugiohcalculator.com"===location.host)return ga.apply(this,arguments)},r.event=function(e,t){return r.queue("send","event",{eventCategory:e,eventAction:t})},n.exports=r}),require.register("app/app.js",function(e,t,n){"use strict";function r(e){function t(){E=new f,D=T.map(function(e){return new l({player:e,operand:E})}),b=m.times(10,function(e){return new c({value:e,operand:E})}),S=new a({lps:D,reset:r,back:y,operand:E,digits:b,timer:L,randomMode:C,historyMode:k,undo:A}),R={calc:S,random:P,history:M}}function n(){T=m.times(2,function(e){return new p({id:e})}),L=new h,L.on("timerReset",function(){s.event("Action","Restart Timer")}),O=new v({app:V,players:T,timer:L}),P=new g,P.on("roll",function(){s.event("Random","Roll Die")}),P.on("flip",function(){s.event("Random","Flip Coin")}),M=new d({app:V,players:T,timer:L,undos:O,random:P}),N="calc",t()}function r(){s.event("Action","Reset Life Points");var e=T.every(function(e){return e.areLifePointsDefault()});if(!e){var n=T.map(function(e){return{id:e.getId(),lifePoints:e.getLifePoints()}});T.forEach(function(e){e.reset()}),V.emit("lifePointsReset",{previous:n}),t()}}function w(e){var t=e.keyCode;if(8===t)e.preventDefault(),i.startComputation(),E.deleteLastDigit(),i.endComputation();else if(t>=48&&t<=57){var n=t-48;i.startComputation(),E.insertDigit(n),i.endComputation()}}function y(){E.deleteLastDigit()}function x(){N="calc"}function C(){s.event("Random","Show Random"),N="random"}function k(){s.event("History","Show History"),N="history"}function A(){s.event("Action","Undo"),O.undo()}e=void 0===e?{}:e;var T,E,D,b,L,S,P,M,O,N,R,V=new u,j=e.element;return V.view=function(){return i(".yc-layout",["calc"!==N?[i(".yc-layout-row.yc-layout-status",[L.view(),i(".yc-close.yc-icon-container",{onclick:x},i.trust(o))])]:[],R[N].view()])},n(),document.addEventListener("keydown",w),
i.mount(j,V),V.destroy=function(){document.removeEventListener("keydown",w),i.mount(j,null)},navigator.serviceWorker&&navigator.serviceWorker.register("sw.js"),V}var i=t("mithril"),o=t("./icons/close.svg"),s=t("./analytics"),a=t("./calc"),c=t("./digit"),u=t("./events"),l=t("./lp"),f=t("./operand"),d=t("./history").PersistedHistory,p=t("./player").PersistedPlayer,h=t("./timer").PersistedTimer,v=t("./undos").PersistedUndos,g=t("./random"),m=t("./utils");n.exports=r}),require.register("app/calc.js",function(e,t,n){"use strict";function r(e){e=void 0===e?{}:e;var t=e.lps,n=e.timer,r=e.reset,f=e.back,d=e.randomMode,p=e.historyMode,h=e.undo,v=e.operand,g=e.digits,m={};return m.view=function(){return[t.map(function(e){return e.view()}),i(".yc-layout-row.yc-layout-status",[n.view(),i(".yc-layout-operand-table",[i(".yc-layout-operand-cell",[v.view()])])]),i(".yc-layout-row.yc-layout-functions",[i(".yc-button.yc-icon-container.yc-reset-button",{onclick:r},i.trust(o)),i(".yc-button.yc-icon-container.yc-back-button",{onclick:f},i.trust(s)),i(".yc-button.yc-icon-container.yc-random-button",{onclick:d},i.trust(a)),i(".yc-button.yc-icon-container.yc-undo-button",{onclick:h},i.trust(u)),i(".yc-button.yc-icon-container.yc-history-button",{onclick:p},i.trust(c))]),l.times(2,function(e){var t=g.slice(5*e,5*e+5),n=t.map(function(e){return e.view()});return i(".yc-layout-row.yc-layout-digits",n)})]},m}var i=t("mithril"),o=t("./icons/reset.svg"),s=t("./icons/backspace.svg"),a=t("./icons/dice-5.svg"),c=t("./icons/book.svg"),u=t("./icons/undo.svg"),l=t("./utils");n.exports=r}),require.register("app/digit.js",function(e,t,n){"use strict";function r(e){function t(){o.insertDigit(r)}e=void 0===e?{}:e;var n={},r=e.value,o=e.operand;return n.view=function(){return i(".yc-digit",{onclick:t},r)},n}var i=t("mithril");n.exports=r}),require.register("app/events.js",function(e,t,n){"use strict";function r(){var e={},t={};return e.on=function(e,n){i.hasOwn(t,e)||(t[e]=[]),t[e].push(n)},e.off=function(e,n){if(void 0===n)t[e]=[];else for(;;){var r=t[e].indexOf(n);if(r===-1)break;t[e].splice(r,1)}},e.emit=function(e,n){i.hasOwn(t,e)&&t[e].forEach(function(e){e(n)})},e}var i=t("./utils");n.exports=r}),require.register("app/history.js",function(e,t,n){"use strict";function r(e){function t(){s.queuePersist("yc-history",{events:i})}function n(e,n){n=n||{},n.name=e,n.time=Date.now(),i.push(n),i.length>u&&(i=i.slice(-1*u)),t()}function r(e){var t=e.id,n="";if("lifePointsChange"===e.name){var r=e.old+e.amount;n=e.old+(r>e.old?" + ":" - ")+Math.abs(e.amount)+" = "+r}else"lifePointsChangeRevert"===e.name?n="Life points reverted to "+e.lifePoints:"lifePointsReset"===e.name?n="Life points reset":"lifePointsResetRevert"===e.name?n="Life points reset reverted":"timerReset"===e.name?n="Timer reset":"timerResetRevert"===e.name?n="Timer reset reverted":"roll"===e.name?n="Rolled "+e.value:"flip"===e.name&&(n="Flipped "+e.value);var i=void 0!==t?"P"+(t+1):o.trust("&nbsp;&nbsp;");return[o(".yc-history-name-col",i),o(".yc-history-desc-col",n),o(".yc-history-time-col",a.getTimestamp(e.time))]}e=void 0===e?{}:e;var i=e.events||[],c=e.app,l=e.players,f=e.timer,d=e.undos,p=e.random,h={};return c.on("lifePointsReset",function(){n("lifePointsReset")}),d.on("lifePointsResetRevert",function(){n("lifePointsResetRevert")}),f.on("timerReset",function(){n("timerReset")}),d.on("timerResetRevert",function(){n("timerResetRevert")}),l.forEach(function(e){e.on("lifePointsChange",function(e){n("lifePointsChange",e)})}),d.on("lifePointsChangeRevert",function(e){n("lifePointsChangeRevert",e)}),p.on("roll",function(e){n("roll",e)}),p.on("flip",function(e){n("flip",e)}),h.view=function(){return[o(".yc-history",[i.reduceRight(function(e,t,n){var s=i[n+1];return s&&a.startOfDay(s.time)>a.startOfDay(t.time)&&(e=e.concat(o(".yc-history-break",[o("span.yc-history-break-text",a.getDaystamp(t.time))]))),e.concat(o(".yc-history-row",r(t)))},[])])]},h}function i(e){e=void 0===e?{}:e;var t=s.unpersist("yc-history");return new r(c.assign(t||{},e))}var o=t("mithril"),s=t("./persistence"),a=t("./time"),c=t("./utils"),u=150;r.PersistedHistory=i,n.exports=r}),require.register("app/icons/backspace.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M22,3H7C6.31,3 5.77,3.35 5.41,3.88L0,12L5.41,20.11C5.77,20.64 6.31,21 7,21H22C23.1,21 24,20.1 24,19V5C24,3.9 23.1,3 22,3M19,15.59L17.59,17L14,13.41L10.41,17L9,15.59L12.59,12L9,8.41L10.41,7L14,10.59L17.59,7L19,8.41L15.41,12" /></svg>'}),require.register("app/icons/book.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M21,5C19.89,4.65 18.67,4.5 17.5,4.5C15.55,4.5 13.45,4.9 12,6C10.55,4.9 8.45,4.5 6.5,4.5C4.55,4.5 2.45,4.9 1,6V20.65C1,20.9 1.25,21.15 1.5,21.15C1.6,21.15 1.65,21.1 1.75,21.1C3.1,20.45 5.05,20 6.5,20C8.45,20 10.55,20.4 12,21.5C13.35,20.65 15.8,20 17.5,20C19.15,20 20.85,20.3 22.25,21.05C22.35,21.1 22.4,21.1 22.5,21.1C22.75,21.1 23,20.85 23,20.6V6C22.4,5.55 21.75,5.25 21,5M21,18.5C19.9,18.15 18.7,18 17.5,18C15.8,18 13.35,18.65 12,19.5V8C13.35,7.15 15.8,6.5 17.5,6.5C18.7,6.5 19.9,6.65 21,7V18.5Z" /></svg>'}),require.register("app/icons/close.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>'}),require.register("app/icons/coin-heads.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24">\n\t<circle cx="12" cy="12" r="10" fill="none" stroke="#000000" />\n\t<path d="M 6.363961031,17.636038969 A 8,8 0,0,0 17.636038969,17.636038969 A 8,8 0,0,0 6.363961031,17.636038969 Z" fill="#000000" stroke="#000000" />\n\t<circle cx="12" cy="11" r="5" fill="#000000" />\n</svg>\n'}),require.register("app/icons/coin-tails.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24">\n\t<circle cx="12" cy="12" r="10" fill="none" stroke="#000000" />\n\t<polygon points="4.5,16 19.5,16 19.5,15 17.5,14 6.5,14 4.5,15" fill="#000000" />\n\t<pattern id="mypatt" x="0" y="0" width="2" height="4" patternUnits="userSpaceOnUse">\n\t\t<rect x="0.5" y="0" width="1" height="4" fill="#000" />\n\t</pattern>\n\t<rect x="6" y="10" width="12" height="4" fill="url(#mypatt)" />\n\t<polygon points="6,10 18,10 18,9 17,9 17,8 7,8 7,9 6,9"  />\n</svg>\n'}),require.register("app/icons/dice-1.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10Z" /></svg>'}),require.register("app/icons/dice-2.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15Z" /></svg>'}),require.register("app/icons/dice-3.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15Z" /></svg>'}),require.register("app/icons/dice-4.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15M17,5A2,2 0 0,0 15,7A2,2 0 0,0 17,9A2,2 0 0,0 19,7A2,2 0 0,0 17,5M7,15A2,2 0 0,0 5,17A2,2 0 0,0 7,19A2,2 0 0,0 9,17A2,2 0 0,0 7,15Z" /></svg>'}),require.register("app/icons/dice-5.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15M17,5A2,2 0 0,0 15,7A2,2 0 0,0 17,9A2,2 0 0,0 19,7A2,2 0 0,0 17,5M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M7,15A2,2 0 0,0 5,17A2,2 0 0,0 7,19A2,2 0 0,0 9,17A2,2 0 0,0 7,15Z" /></svg>'}),require.register("app/icons/dice-6.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M5,3H19A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5A2,2 0 0,1 5,3M7,5A2,2 0 0,0 5,7A2,2 0 0,0 7,9A2,2 0 0,0 9,7A2,2 0 0,0 7,5M17,15A2,2 0 0,0 15,17A2,2 0 0,0 17,19A2,2 0 0,0 19,17A2,2 0 0,0 17,15M17,10A2,2 0 0,0 15,12A2,2 0 0,0 17,14A2,2 0 0,0 19,12A2,2 0 0,0 17,10M17,5A2,2 0 0,0 15,7A2,2 0 0,0 17,9A2,2 0 0,0 19,7A2,2 0 0,0 17,5M7,10A2,2 0 0,0 5,12A2,2 0 0,0 7,14A2,2 0 0,0 9,12A2,2 0 0,0 7,10M7,15A2,2 0 0,0 5,17A2,2 0 0,0 7,19A2,2 0 0,0 9,17A2,2 0 0,0 7,15Z" /></svg>'}),require.register("app/icons/minus.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M19,13H5V11H19V13Z" /></svg>'}),require.register("app/icons/plus.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>'}),require.register("app/icons/reset.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M19,8L15,12H18A6,6 0 0,1 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20A8,8 0 0,0 20,12H23M6,12A6,6 0 0,1 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4A8,8 0 0,0 4,12H1L5,16L9,12" /></svg>'}),require.register("app/icons/undo.svg",function(e,t,n){n.exports='<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 24 24"><path d="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z" /></svg>'}),require.register("app/lp.js",function(e,t,n){"use strict";function r(e){function t(){a.event("Action","Add"),r.gain(c.getNumericValue()),c.reset()}function n(){a.event("Action","Subtract"),r.lose(c.getNumericValue()),c.reset()}e=void 0===e?{}:e;var r=e.player,c=e.operand,u={};return u.view=function(){return i(".yc-lp",[i(".yc-lp-val",r.getLifePoints()),i(".yc-lp-gain.yc-icon-container",{onclick:t},i.trust(o)),i(".yc-lp-lose.yc-icon-container",{onclick:n},i.trust(s))])},u}var i=t("mithril"),o=t("./icons/plus.svg"),s=t("./icons/minus.svg"),a=t("./analytics");n.exports=r}),require.register("app/main.js",function(e,t,n){"use strict";var r=t("./app"),i=t("fastclick");new r({element:document.querySelector(".yc-app")}),i(document.body)}),require.register("app/operand.js",function(e,t,n){"use strict";function r(){return"0"}function i(e){return a.times(e,r)}function o(){var e={},t=[];return e.reset=function(){t=[]},e.getValue=function(){var e=i(t.length<2?2:4-t.length);return t.concat(e).join("")},e.getNumericValue=function(){return parseFloat(e.getValue())},e.getIndex=function(){return t.length},e.insertDigit=function(e){t.length>=5||t.push(e)},e.deleteLastDigit=function(){t.pop()},e.view=function(){function n(e,t){return t=void 0===t?function(){return""}:t,e.split("").map(function(e,n,r){return s("span.yc-operand-digit"+t(n,r),e)})}function r(e){return n(e)}function i(e){return n(e,function(e,t){return t.slice(0,e+1).every(function(e){return"0"===e})?".yc-operand-extra-digit":""})}function o(e){return s(".yc-operand-selected.yc-operand-digit",e)}var a=e.getValue(),c=e.getIndex(),u=a.substring(0,c),l=a.substring(c+1),f=a.charAt(c),d=t.length;return s(".yc-operand",[].concat(i(u),c<2&&d<2?s(".yc-operand-blinker"):[],(c>=2||d>=2)&&c<4?o(f):r(f),4===c?s(".yc-operand-blinker"):[],r(l)))},e}var s=t("mithril"),a=t("./utils");n.exports=o}),require.register("app/persistence.js",function(e,t,n){"use strict";var r=t("./utils"),i={};i.queuePersist=function(){var e=300,t={},n=clearTimeout;return function(i,o){if(r.hasOwn(t,i)){var s=t[i];n(s)}t[i]=setTimeout(function(){localStorage.setItem(i,JSON.stringify(o))},e)}}(),i.unpersist=function(e){return JSON.parse(localStorage.getItem(e))},n.exports=i}),require.register("app/player.js",function(e,t,n){"use strict";function r(e){function t(){s.queuePersist("yc-player-"+r,{id:r,lifePoints:i})}function n(e){var n=i;i+=e,i=Math.min(i,c),i=Math.max(i,u),0!==e&&(l.emit("lifePointsChange",{id:r,old:n,amount:e}),t())}e=void 0===e?{}:e;var r=e.id,i=void 0===e.lifePoints?a:e.lifePoints,l=new o(e);return l.getId=function(){return r},l.getLifePoints=function(){return i},l.setLifePoints=function(e){i!==e&&t(),i=e},l.areLifePointsDefault=function(){return i===a},l.lose=function(e){n(-1*e)},l.gain=function(e){n(e)},l.reset=function(){i=a,t()},t(),l}function i(e){e=void 0===e?{}:e;var t=s.unpersist("yc-player-"+e.id);return new r(t?t:e)}var o=t("./events"),s=t("./persistence"),a=8e3,c=99999,u=-9999;r.PersistedPlayer=i,n.exports=r}),require.register("app/random.js",function(e,t,n){"use strict";function r(e,t){return Math.floor(Math.random()*(t-e+1))+e}function i(e){function t(e,t){var n=e.currentTarget,r=!1,i=function(){r||(r=!0,t(),o.redraw(),n.removeEventListener("webkitAnimationEnd",i),n.removeEventListener("animationend",i))};n.addEventListener("webkitAnimationEnd",i),n.addEventListener("animationend",i)}function n(e){v=r(0,5),m.emit("roll",{value:v+1}),w=!0,t(e,function(){w=!1})}function i(e){g=r(0,1),m.emit("flip",{value:0===g?"heads":"tails"}),y=!0,t(e,function(){y=!1})}e=void 0===e?{}:e;var v,g,m=new h(e),w=!1,y=!1;return m.view=function(){return[o(".yc-random",[o(".yc-random-cell.yc-icon-container",{onclick:n},void 0===v?"Roll":o(".yc-icon-container"+(w?".yc-pulsate":""),0===v?o.trust(s):1===v?o.trust(a):2===v?o.trust(c):3===v?o.trust(u):4===v?o.trust(l):5===v?o.trust(f):void 0)),o(".yc-random-cell.yc-icon-container",{onclick:i},void 0===g?"Flip":o(".yc-icon-container"+(y?".yc-pulsate":""),0===g?o.trust(d):1===g?o.trust(p):void 0))])]},m}var o=t("mithril"),s=t("./icons/dice-1.svg"),a=t("./icons/dice-2.svg"),c=t("./icons/dice-3.svg"),u=t("./icons/dice-4.svg"),l=t("./icons/dice-5.svg"),f=t("./icons/dice-6.svg"),d=t("./icons/coin-heads.svg"),p=t("./icons/coin-tails.svg"),h=t("./events");n.exports=i}),require.register("app/time.js",function(e,t,n){"use strict";function r(e){return e<10?"0"+e:String(e)}var i={};i.getTimestamp=function(e){return new Date(e).toLocaleTimeString()},i.formatMs=function(e){e=1e3*Math.round(e/1e3);var t=Math.floor(e/1e3)%60,n=Math.floor(e/6e4);return r(n)+":"+r(t)},i.startOfDay=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()},i.getDaystamp=function(e){return new Date(e).toLocaleDateString()},n.exports=i}),require.register("app/timer.js",function(e,t,n){"use strict";function r(e){function t(){return Date.now()-d}function n(){p.isInOvertime()||(f=setTimeout(function(){o.redraw(),n()},u))}function r(){a.queuePersist("yc-timer",{startTime:d})}function i(e){clearTimeout(f),d=e,r(),n()}e=void 0===e?{}:e;var f,d=e.startTime,p=new s(e);return p.getTimeLeft=function(){return l-t()},p.isInOvertime=function(){return t()>l},p.restore=function(e){i(e),p.emit("timerRestore")},p.reset=function(){var e={previous:{startTime:d}};i(Date.now()),p.emit("timerReset",e)},p.view=function(){return o(".yc-timer",{onclick:p.reset},p.isInOvertime()?"TIME":c.formatMs(p.getTimeLeft()))},void 0===d?p.reset():(r(),n()),p}function i(e){e=void 0===e?{}:e;var t=a.unpersist("yc-timer");return new r(t?t:e)}var o=t("mithril"),s=t("./events"),a=t("./persistence"),c=t("./time"),u=1e3,l=24e5;r.PersistedTimer=i,n.exports=r}),require.register("app/undos.js",function(e,t,n){"use strict";function r(e){function t(){l.length>c&&(l=l.slice(-1*c))}function n(){s.queuePersist("yc-undos",{items:l})}function r(){t(),n()}function i(e){l.push(e),r()}function u(){var e=l.pop();return r(),e}e=void 0===e?{}:e;var l=void 0===e.items?[]:e.items,f=e.app,d=e.players,p=e.timer,h=new o;return f.on("lifePointsReset",function(e){i({type:"lifePointsReset",players:e.previous})}),p.on("timerReset",function(e){i({type:"timerReset",timer:e.previous})}),d.forEach(function(e){e.on("lifePointsChange",function(e){i({type:"lifePointsChange",change:e})})}),h.undo=function(){var e=u();if(void 0!==e)if("lifePointsReset"===e.type)d.forEach(function(t){var n=a.find(e.players,function(e){return e.id===t.getId()}).lifePoints;t.setLifePoints(n)}),h.emit("lifePointsResetRevert");else if("timerReset"===e.type){var t=e.timer.startTime;p.restore(t),h.emit("timerResetRevert",{startTime:t})}else if("lifePointsChange"===e.type){var n=a.find(d,function(t){return e.change.id===t.getId()}),r=e.change.old;n.setLifePoints(r),h.emit("lifePointsChangeRevert",{id:n.getId(),lifePoints:r})}},h}function i(e){e=void 0===e?{}:e;var t=s.unpersist("yc-undos");return new r(a.assign(t||{},e))}var o=t("./events"),s=t("./persistence"),a=t("./utils"),c=150;r.PersistedUndos=i,n.exports=r}),require.register("app/utils.js",function(e,t,n){"use strict";var r={};r.hasOwn=Function.prototype.call.bind(Object.prototype.hasOwnProperty),r.times=function(e,t){for(var n=[],r=0;r<e;r+=1)n.push(t(r));return n},r.find=function(e,t){var n;return Array.prototype.some.call(e,function(e){var r=t(e);return r&&(n=e),r}),n},r.assign=function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},n.exports=r}),require.alias("buffer/index.js","buffer"),require.alias("fastclick/lib/fastclick.js","fastclick"),require.alias("mithril/mithril.js","mithril"),require.register("___globals___",function(e,t,n){})}(),require("___globals___");